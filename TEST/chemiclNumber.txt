Chemical number theory

import math
s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"
val={'0':[0,2]}
x=1
for c in s[1:]:
    val[c]=[x,x+1]
    x+=1
li=input().split()
reac={}
for x in li:
    reactivity=0
    if len(x)==1:
        reactivity=val[x][0]
    else:
        reactivity=val[x[1]][0]+val[x[0]][0]*val[x[1]][1]
    reac[x]=reactivity
n=len(reac)
if n==1:
    print(reac[li[0]])
else:
    maxaff=1
    for x in li:
        for y in li:
            if x!=y:
                maxaff=max(maxaff,math.gcd(reac[x],reac[y]))
    print(maxaff)